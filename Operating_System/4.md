### 프로세스와 스레드의 차이?

프로세스 -> 자원을 할당받아 실행된 프로그램이다. 여기서 할당 받는 자원은 보통 프로세서와 메모리등을 의미한다. 프로세스가 할당받은 자원은 프로세스 끼리 구분되며 다른 프로세스의 자원에 접근 할 수 없다.(접근하려면 프로세스간의 통신 IPC를 사용해야 한다.)

스레드 -> 프로세스의 갈래로서, 프로세스의 자원을 공유하여(stack만 따로 할당 받고, code heap data는 공유한다.) 한 프로세스 내의 작업을 분할하여 처리하는 것을 의미한다.

예를 들면 게임을 하고 있다고 가정하면, 싱글 스레드라면, 키보드 마우스 모니터에서 각각 input이 발생하면 각 프로세스는 멈추고 context switching이 발생한다. 하지만 멀티 스레드로 갈래를 나눠 놓으면 그러한 상태를 방지할 수 있다.

프로세스와 스레드의 차이점은 프로세스는 자신의 고유한 공간과 자원을 할당받는 반면, 스레드는 공간을 공유하여 사용한다.

### 스레드의 주의 사항?

공통된 영역을 공유하기 때문에 race condition을 주의해야 한다.

race condtion : 두 개 이상의 프로세스가 공통 자원을 병행적을

### 멀티 스레드 vs 멀티 프로세스

하나의 프로그램을 어떻게 나눠서 쓰는것인가?

멀티 프로세스: 하나의 프로그램을 프로세스 여러 개로 구성하여 context switching을 통해 실행하는 것. 하나의 프로세스에 문제가 생기더라도 다른 프로세스에 영향 x

멀티 스레드: 하나의 프로그램을 한 프로세스 내에 여러 개의 스레드로 구성하여 실행하는 것

효율은 스레드간 통신이 프로세스간 통신이 효율적이기에 멀티 스레드가 좋음

but 스레드는 공통 영역을 신경써야 하기 때문에 동기화에 신경 써야 한다.

### Context switching

커널의 개입으로 이루어 지고, 멀티 프로세싱 상태에서  running 상태의 프로세스가 인터럽트 요청에 의해 asleep(block) 상태가 될때, 기존 프로세스의 상태 정보를 PCB에 저장하고 인터럽트 처리 후, 앞으로 실행할 프로세스의 정보를 복구함 (이때 복구하는 프로세스는 반드시 기존 프로세스가 아닐 수 있다.)

하지만 오버헤드가 큰 연산이기에, 최대한 발생하는 것을 줄여야 한다.

프로세스 간의 Context Switching시 CPU 레지스터 + RAM과 CPU 사이의 캐시 메모리에 대한 데이터 까지 초기화되므로 오버헤드 큼

